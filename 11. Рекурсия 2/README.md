# –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ ‚Ññ11 - –†–µ–∫—É—Ä—Å–∏—è 2

## [Backtracking](https://en.wikipedia.org/wiki/Backtracking):

### –ò–¥–µ—è:

1. –ü—Ä–æ–±–≤–∞–º–µ –¥–∞ –≤–∏–¥–∏–º –¥–æ–∫—ä–¥–µ –º–æ–∂–µ–º –¥–∞ —Å—Ç–∏–≥–Ω–µ–º
2. –ê–∫–æ —Å–º–µ —Å—Ç–∏–≥–Ω–∞–ª–∏ –¥–æ –∫—Ä–∞—è: –∑–∞–¥–∞—á–∞—Ç–∞ –µ —Ä–µ—à–µ–Ω–∞!
3. –ê–∫–æ –Ω–µ: –≤—Ä—ä—â–∞–º–µ —Å–µ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–∏—è _"–∫—Ä—ä—Å—Ç–æ–ø—ä—Ç"_ –∏ –ø—Ä–æ–±–≤–∞–º–µ _**–Ω–µ—â–æ —Ä–∞–∑–ª–∏—á–Ω–æ!**_
4. –ê–∫–æ —Å–º–µ –∏–∑–ø—Ä–æ–±–≤–∞–ª–∏ –≤—Å–∏—á–∫–∏ –≤—ä–∑–º–æ–∂–Ω–æ—Å—Ç–∏: –∑–∞–¥–∞—á–∞—Ç–∞ _**–Ω—è–º–∞**_ —Ä–µ—à–µ–Ω–∏–µ.

### –ü—Ä–∏–º–µ—Ä: –ò–∑—Ö–æ–¥ –æ—Ç –ª–∞–±–∏—Ä–∏–Ω—Ç

```cpp
bool findExit(char labyrinth[][MAX_SIZE], size_t rows, size_t cols, size_t i, size_t j) {
   labyrinth[i][j] = '.';
   if (isExit(i, j, rows, cols)) {
      // We've found an exit: ü•≥!
      return true;
   }

   // Try going in each direction in turn.
   const int directions[][2] = {{-1, 0}, {0, -1}, {0, +1}, {+1, 0}};
   for (auto& [di, dj]: directions) {
      if (isEmptyCell(labyrinth, i+di, j+dj) &&
         findExit(labyrinth, rows, cols, i+di, j+dj)) {
         return true;
      }
   }

   // No exit found: Backtrack!
   labyrinth[i][j] = 'x';
   return false;
}
```

## –ó–∞–¥–∞—á–∏:

**–ó–∞–¥–∞—á–∞ 1.** –ò–≥—Ä–∞–µ–º —Å–ª–µ–¥–Ω–∞—Ç–∞ –∏–≥—Ä–∞: –ê–∑ –≤–∏ –¥–∞–≤–∞–º —Ü—è–ª–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª–Ω–æ —á–∏—Å–ª–æ `n`. –ê–∫–æ —Ç–æ –µ _—á–µ—Ç–Ω–æ_ –≤–∏–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –≥–æ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ –Ω–∞ 2, –∞ –∞–∫–æ –µ _–Ω–µ—á–µ—Ç–Ω–æ_, –º–æ–∂–µ—Ç–µ –¥–∞ –≥–æ —É–≤–µ–ª–∏—á–∏—Ç–µ –∏–ª–∏ –Ω–∞–º–∞–ª–∏—Ç–µ —Å 1 . –¢–æ–≤–∞ –ø—Ä–æ–¥—ä–ª–∂–∞–≤–∞, –¥–æ–∫–∞—Ç–æ —á–∏—Å–ª–æ—Ç–æ –Ω–µ —Å—Ç–∞–Ω–µ —Ä–∞–≤–Ω–æ –Ω–∞ –Ω—É–ª–∞. –ù–∞–ø–∏—à–µ—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ –ø—Ä–∏–µ–º–∞ `n` –∏ –≤—Ä—ä—â–∞ –º–∏–Ω–∏–º–∞–ª–Ω–∏—è—Ç –±—Ä–æ–π —Å—Ç—ä–ø–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∏ –∑–∞ –∑–∞–≤—ä—Ä—à–≤–∞–Ω–µ—Ç–æ –Ω–∞ –∏–≥—Ä–∞—Ç–∞.

**–ó–∞–¥–∞—á–∞ 2.** –î–µ—Ñ–∏–Ω–∏—Ä–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ `split`, –∫–æ—è—Ç–æ –ø—Ä–∏–µ–º–∞ –º–∞—Å–∏–≤ –æ—Ç –¥–µ–Ω–æ–º–∏–Ω–∞—Ü–∏–∏ –Ω–∞ –º–æ–Ω–µ—Ç–∏ `coins` –∏ —Å—É–º–∞ `target` –∏ –≤—Ä—ä—â–∞ –Ω–∞–π-–º–∞–ª–∫–∏—è—Ç –±—Ä–æ–π –º–æ–Ω–µ—Ç–∏, –∫–æ–∏—Ç–æ –æ–±—Ä–∞–∑—É–≤–∞—Ç –¥–∞–¥–µ–Ω–∞—Ç–∞ —Å—É–º–∞.

_**–ë–æ–Ω—É—Å:**_ –û—Ç–ø–µ—á–∞—Ç–∞–π—Ç–µ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∏—Ç–µ –º–æ–Ω–µ—Ç–∏.

**–ó–∞–¥–∞—á–∞ 3.** –î–µ—Ñ–∏–Ω–∏—Ä–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ –ø—Ä–∏–µ–º–∞ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω –º–∞—Å–∏–≤ `arr` –∏ —Ü–µ–ª–µ–≤–∞ —Å—É–º–∞ `target` –∏ –≤—Ä—ä—â–∞ –¥–∞–ª–∏ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ—Ç –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω–∞ `arr`, —á–∏–π—Ç–æ —Å–±–æ—Ä –µ —Ä–∞–≤–µ–Ω –Ω–∞ `target`.

**–ó–∞–¥–∞—á–∞ 4.** –î–µ—Ñ–∏–Ω–∏—Ä–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ –ø—Ä–∏–µ–º–∞ –º–∞—Å–∏–≤ –æ—Ç –ø–æ–ª–æ–∂–∏—Ç–µ–ª–Ω–∏ —á–∏—Å–ª–∞ –∏ –≤—Ä—ä—â–∞ –Ω–∞–π-–≥–æ–ª—è–º–∞—Ç–∞ —Å—É–º–∞ –Ω–∞ –∏–∑–±—Ä–∞–Ω–∏ –µ–ª–µ–º–µ–Ω–∏ –Ω–∞ –º–∞—Å–∏–≤–∞, —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ—Ç–æ, —á–µ –Ω–µ –º–æ–∂–µ–º –¥–∞ –∏–∑–±–∏—Ä–∞–º–µ –¥–≤–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–Ω–∏ –µ–ª–µ–º–µ–Ω—Ç–∞.

**–ó–∞–¥–∞—á–∞ 5.** –î–µ—Ñ–∏–Ω–∏—Ä–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ –ø—Ä–∏–µ–º–∞ —Ü—è–ª–æ —á–∏—Å–ª–æ `k` –∏ –æ—Ç–ø–µ—á–∞—Ç–≤–∞ –≤—Å–∏—á–∫–∏ —Å–∏–º–≤–æ–ª–Ω–∏ –Ω–∏–∑–æ–≤–µ —Å –¥—ä–ª–∂–∏–Ω–∞ `k`, —Å—ä—Å—Ç–æ—è—â–∏ —Å–µ —Å–∞–º–æ –æ—Ç –º–∞–ª–∫–∏ –ª–∞—Ç–∏–Ω—Å–∫–∏ –±—É–∫–≤–∏.

_**–ë–æ–Ω—É—Å:**_ –û—Ç–ø–µ—á–∞—Ç–∞–π—Ç–µ —Å–∞–º–æ —Ç–µ–∑–∏ —Å–∏–º–≤–æ–ª–∏, –≤ –∫–æ–∏—Ç–æ –±—É–∫–≤–∏—Ç–µ —Å–∞ –ø–æ–¥—Ä–µ–¥–µ–Ω–∏ –≤ —Å—Ç—Ä–æ–≥–æ –Ω–∞—Ä–∞—Å—Ç–≤–∞—â —Ä–µ–¥.

**–ó–∞–¥–∞—á–∞ 6.** –î–µ—Ñ–∏–Ω–∏—Ä–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ –ø—Ä–∏–µ–º–∞ –¥–≤—É–º–µ—Ä–µ–Ω –º–∞—Å–∏–≤ (–º–∞—Ç—Ä–∏—Ü–∞) –æ—Ç —Å–∏–º–≤–æ–ª–∏ –∏ –¥—É–º–∞ (—Å–∏–º–≤–æ–ª–µ–Ω –Ω–∏–∑) –∏ –≤—Ä—ä—â–∞ –¥–∞–ª–∏ –¥—É–º–∞—Ç–∞ —Å–µ —Å—ä–¥—ä—Ä–∂–∞ –≤ –º–∞—Å–∏–≤–∞: —Ç.–µ. –¥–∞–ª–∏ —Å–µ —Å—Ä–µ—â–∞ –≤ –Ω—è–∫–æ–π –æ—Ç –Ω–µ–π–Ω–∏—Ç–µ —Ä–µ–¥–æ–≤–µ - —á–µ—Ç–µ–Ω–∏ –æ—Ç –ª—è–≤–æ –Ω–∞ –¥—è—Å–Ω–æ - –∏–ª–∏ –∫–æ–ª–æ–Ω–∏ - —á–µ—Ç–µ–Ω–∏ –æ—Ç –≥–æ—Ä–µ –Ω–∞ –¥–æ–ª—É.

_**–ë–æ–Ω—É—Å:**_ –ù–∞–ø–∏—à–µ—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ –ø—Ä–∏–µ–º–∞ —Å–∏–º–≤–æ–ª–Ω–∞ –º–∞—Ç—Ä–∏—Ü–∞ –∏ –º–∞—Å–∏–≤ –æ—Ç –Ω–∏–∑–æ–≤–µ –∏ –æ—Ç–ø–µ—á–∞—Ç–≤–∞ –≤—Å–∏—á–∫–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω–∞ –º–∞—Å–∏–≤–∞, –∫–æ–∏—Ç–æ —Å–µ —Å—Ä–µ—â–∞—Ç –≤ –º–∞—Ç—Ä–∏—Ü–∞—Ç–∞.

**–ó–∞–¥–∞—á–∞ 7.** –ù–µ–∫–∞ –µ –¥–∞–¥–µ–Ω –¥–≤—É–º–µ—Ä–µ–Ω –º–∞—Å–∏–≤ —Å —Ä–∞–∑–º–µ—Ä–∏ `m`x`n` —Å—ä—Å—Ç–∞–≤–µ–Ω –æ—Ç –ø–æ–ª–æ–∂–∏—Ç–µ–ª–Ω–∏ —á–∏—Å–ª–∞. –ù–∞–ø–∏—à–µ—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ –Ω–∞–º–∏—Ä–∞ –ø—ä—Ç—è —Å –Ω–∞–π-–º–∞–ª–∫–æ —Ç–µ–≥–ª–æ, –∫–æ–π—Ç–æ –∑–∞–ø–æ—á–≤–∞ –æ—Ç –≥–æ—Ä–Ω–∏—è –ª—è–≤ —ä–≥—ä–ª –Ω–∞ –º–∞—Å–∏–≤–∞ –∏ –∑–∞–≤—ä—Ä—à–≤–∞ –≤ –¥–æ–ª–Ω–∏—è –¥–µ—Å–µ–Ω —ä–≥—ä–ª. –¢–µ–≥–ª–æ—Ç–æ –Ω–∞ –µ–¥–∏–Ω –ø—ä—Ç –µ —Å–±–æ—Ä–∞ –æ—Ç —Å—Ç–æ–π–Ω–æ—Å—Ç–∏—Ç–µ –Ω–∞ –∫–ª–µ—Ç–∫–∏—Ç–µ, –ø—Ä–µ–∑ –∫–æ–∏—Ç–æ –º–∏–Ω–∞–≤–∞.
